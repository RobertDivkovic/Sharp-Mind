{% extends "base.html" %}
{% block title %}Profile of {{ profile_user.username }}{% endblock %}

{% block content %}
<h1>Profile of {{ profile_user.username }}</h1>

<h2>Your Posts</h2>
<ul>
    {% for post in user_posts %}
        <li>
            <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
            <small>Published on {{ post.created_on|date:"F j, Y" }}</small>
            <div>
                <a href="{% url 'post-edit' post.slug %}" class="btn btn-sm btn-primary">Edit</a>
                <a href="{% url 'post-delete' post.slug %}" class="btn btn-sm btn-danger"
                   onclick="return confirm('Are you sure you want to delete this post?');">
                    Delete
                </a>
            </div>
        </li>
    {% empty %}
        <p>You haven't published any posts yet.</p>
    {% endfor %}
</ul>

<h2>Your Comments</h2>
<ul>
    {% for comment in user_comments %}
        <li>
            <p>On <a href="{{ comment.post.get_absolute_url }}">{{ comment.post.title }}</a>: {{ comment.body }}</p>
            <small>Commented on {{ comment.created_on|date:"F j, Y" }}</small>
        </li>
    {% empty %}
        <p>You haven't commented on any posts yet.</p>
    {% endfor %}
</ul>

<h2>Voting Activity :</h2>

<h3>Upvoted Posts</h3>
<ul>
    {% for post in upvoted_posts %}
        <li><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></li>
    {% empty %}
        <p>You haven't upvoted any posts yet.</p>
    {% endfor %}
</ul>

<h3>Downvoted Posts</h3>
<ul>
    {% for post in downvoted_posts %}
        <li><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></li>
    {% empty %}
        <p>You haven't downvoted any posts yet.</p>
    {% endfor %}
</ul>
{% endblock %}